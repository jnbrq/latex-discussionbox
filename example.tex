% Canberk SÃ¶nmez

\documentclass{article}

\usepackage[margin=2cm]{geometry}
\usepackage{lipsum}
\usepackage{amsmath}
\usepackage{graphicx}
\usepackage{discussionbox}

\renewcommand{\familydefault}{\sfdefault}

\DefinePerson{Canberk}{magenta}
\DefinePerson{Ahmet}{blue}
\DefinePerson{Mehmet}{red}

\begin{document}

Unread messages:
\begin{itemize}
    \item \textbf{For Canberk:} \ListSeeMsgs{Canberk}
    \item \textbf{For Ahmet:} \ListSeeMsgs{Ahmet}
    \item \textbf{For Mehmet:} \ListSeeMsgs{Mehmet}
\end{itemize}

\begin{discussionbox}
    \Canberk{
        Hey, what's up?
        \Ahmet{
            \SeeMsg{Canberk}\SeeMsg{Mehmet} It's perfect! By the way, math formatting works:
            \begin{align}
                F = ma
            \end{align}
            \Ahmet{Wow, that's cool!}
        }
        \Mehmet{
            \SeeMsg{Canberk}
            Same here! Check out the following Latex logo:

            \begin{center}
                \includegraphics[width=0.3\linewidth]{fig/latex-logo.png}
            \end{center}
            \Ahmet{
                Wow, that's so good!
            }
            \Canberk{
                I totally agree!
                \Canberk{\LabelMsg{msg:canberk} More and more nesting...}
            }
            Previous message continues...
            \Ahmet{Here is a long text:\\ \lipsum[1-2]}
        }
    }
\end{discussionbox}

\clearpage
\begin{discussionbox}
    \Ahmet{
        \lipsum[1]
        \Canberk{
            \lipsum[2-3]
            \Mehmet{
                \lipsum[4-5][3]
            }
        }
    }
    \Ahmet{
        \lipsum[6-7]
        \Canberk{
            \lipsum[8-12]
            \Mehmet{
                Here is a reference: \ref{msg:canberk}. \textbf{Also, \SeeMsg{Canberk} should read this.}
                \lipsum[13-19]
            }
        }
    }
\end{discussionbox}

\end{document}
